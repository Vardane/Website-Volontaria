

<!-- <router-outlet></router-outlet> -->

<!-- source: https://blog.angular-university.io/angular-material-data-table/ -->

<!-- <mat-form-field appearance="fill" class="events__activity__select">
  <mat-label>Choisis ton activité</mat-label>
  <mat-select [(ngModel)]="selectedTaskType" (ngModelChange)="refreshEvents()" multiple>
    <mat-option *ngFor="let tasktype of tasktypeList" [value]="tasktype.id">{{tasktype.name}}</mat-option>
  </mat-select>
</mat-form-field> -->


<!-- <div class="events__columns__content__details__list">
  <div class="events__columns__content__details__list__content"
       *ngIf="eventDayList && eventDayList.length"
       [ngStyle]="{'right': eventIndex * 270 + 'px'}">
    <app-event-detail-list-item class="events__columns__content__details__list__content__item"
                                *ngFor="let event of eventDayList"
                                (mouseenter)="changeHoverEvent(event)"
                                (mouseleave)="clearHoverEvent()"
                                [participations]="participationList"
                                [event]="event"></app-event-detail-list-item>
  </div> -->
  <!-- <div class="events__columns__content__details__list__empty" *ngIf="eventList && !eventList.length">
    Aucune activité n'est prévu pour ce jour.
  </div>
  <div class="events__columns__content__details__list__empty" *ngIf="!eventList">
    <i class="fas fa-spinner fa-spin fa-3x"></i>
  </div> -->
<!-- </div> -->




<!-- 
<div id="search-component">
  <label for="search-box">Hero Search</label>
  <input #searchBox id="search-box" (input)="search(searchBox.value)" />

  <ul class="search-result">
    <li *ngFor="let event of eventList" >
      <a routerLink="/event/{{event.id}}">
        {{event.description}}
      </a>
    </li>
  </ul>
</div>

 -->


<div class="events">
  <div class="events__content">
    <div class="events__content__title">
      Événements
    </div>





<mat-table class="events__content__table" [dataSource]="eventList">


  <ng-container matColumnDef="description">
      <mat-header-cell *matHeaderCellDef 
      class="events__content__table__header">
      Description</mat-header-cell>
      <mat-cell class="events__content__table__cell--text"
                *matCellDef="let item">{{item.description}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="start_time">
      <mat-header-cell *matHeaderCellDef
      class="events__content__table__header">
      Début</mat-header-cell>
      <mat-cell class="events__content__table__cell--date"
                *matCellDef="let item">{{item.start_time | date: 'd MMM yy H:mm'}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="end_time">
    <mat-header-cell *matHeaderCellDef
    class="events__content__table__header">
    Fin</mat-header-cell>
    <mat-cell class="events__content__table__cell--date"
              *matCellDef="let item">{{item.end_time | date: 'd MMM yy H:mm'}}</mat-cell>
  </ng-container>

  <!-- <ng-container matColumnDef="volunteers">
    <mat-header-cell *matHeaderCellDef
    class="events__content__table__header">
    Bénévoles inscrits</mat-header-cell>
    <mat-cell class="events__content__table__cell--number"
              *matCellDef="let item">{{item.nb_volunteers}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="volunteers_needed">
    <mat-header-cell *matHeaderCellDef
    class="events__content__table__header">
    Bénévoles requis</mat-header-cell>
    <mat-cell class="events__content__table__cell--number"
              *matCellDef="let item">{{item.nb_volunteers_needed}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="standby">
    <mat-header-cell *matHeaderCellDef
    class="events__content__table__header--number">
    Remplaçants inscrits</mat-header-cell>
    <mat-cell class="events__content__table__cell"
              *matCellDef="let item">{{item.nb_volunteers_standby}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="standby_needed">
    <mat-header-cell *matHeaderCellDef
    class="events__content__table__header--number">
    Remplaçants requis</mat-header-cell>
    <mat-cell class="events__content__table__cell"
              *matCellDef="let item">{{item.nb_volunteers_standby_needed}}</mat-cell>
  </ng-container> -->

  <ng-container matColumnDef="cell">
    <mat-header-cell *matHeaderCellDef
    class="events__content__table__header">
    Lieu</mat-header-cell>
    <mat-cell class="events__content__table__cell--text"
              *matCellDef="let item">{{item.cell.name}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="task_type">
    <mat-header-cell *matHeaderCellDef
    class="events__content__table__header">
    Activité</mat-header-cell>
    <mat-cell class="events__content__table__cell--text"
              *matCellDef="let item">{{item.task_type.name}}</mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  
  <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>


</mat-table>

<mat-paginator [pageSizeOptions]="[1, 5, 10, 20]" showFirstLastButtons></mat-paginator>


  </div>
</div>
